@use '../helpers' as *;

/* ===== ABOUT (roomier) ===== */

.about__body {
  margin-top: clamp(1.5rem, 4vw, 3rem);
}

/* Карточка — больше отступы + тонкая граница */
.about-card {
  --card-pad-x: #{rem(30)};
  --card-pad-y: #{rem(27)};
  --card-radius: #{rem(16)};
  --card-shadow: 0 #{rem(8)} #{rem(20)} rgba(0,0,0,.06);
  --card-border-color: color-mix(in srgb, var(--color-dark) 12%, transparent);

  position: relative;
  background: var(--color-white);
  border: rem(1) solid var(--card-border-color);
  border-radius: var(--card-radius);
  padding: var(--card-pad-y) var(--card-pad-x);
  display: flex;
  flex-direction: column;
  row-gap: rem(12);
  transition: box-shadow var(--transition-duration), translate var(--transition-duration), border-color var(--transition-duration);
  box-shadow: 0 rem(8) rem(20) color-mix(in srgb, var(--color-accent) 24%, transparent);
  translate: 0 0;

  @include hover {
    translate: 0 -1px;
    box-shadow: 0 #{rem(10)} #{rem(26)} rgba(0,0,0,.08);
  }

  &__title {
    @include fluid-text(26, 18);
    font-weight: 600;
    line-height: 1.25;
    color: var(--color-dark);
    position: relative;
    padding-bottom: rem(10);

    &::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: rem(44);
      height: rem(2);
      background-color: var(--color-accent);
    }
  }

  &__text {
    color: var(--color-dark-900);
    line-height: 1.65;
  }
}

/* Вертикальный список-таймлайн — больше «отступа дыхания» слева */
.about__list--stacked {
  --rail-offset: #{rem(50)}; /* было ~50 — расширяем, чтобы не жалось */
  display: flex;
  flex-direction: column;
  position: relative;
  gap: rem(24);
  padding-left: var(--rail-offset);

  /* Общая вертикальная линия слева */


  /* Акцентная полоса и маркер у каждой карточки */
  .about-card {
    /* акцентная полоска слева на высоту карточки */
    &::before {
      content: '';
      position: absolute;
      left: rem(-10);
      top: rem(20);
      bottom: rem(20);
      width: rem(4);
      background: var(--color-accent);
      border-radius: rem(4);
    }

    /* точка-маркер на «рельсе» */
    //&::after {
    //  content: '';
    //  position: absolute;
    //  left: rem(10);
    //  top: rem(35);
    //  width: rem(12);
    //  height: rem(12);
    //  background: var(--color-white);
    //  border: rem(2) solid var(--color-accent);
    //  border-radius: 50%;
    //  box-shadow: 0 0 0 rem(3) color-mix(in srgb, var(--color-accent) 18%, transparent);
    //}

    .about-card__title {
      margin-left: rem(2);

      &::after {
        position: static;
        display: block;
        margin-top: rem(10);
        width: rem(48);
        height: rem(2);
        background: var(--color-accent);
        content: '';
      }
    }
  }

  /* Адаптив: компактнее, но с запасом воздуха */
  @include tablet {
    --rail-offset: #{rem(52)};
    gap: rem(20);

    .about-card {
      --card-pad-x: #{rem(20)};
      --card-pad-y: #{rem(16)};

      &::before { left: rem(-8); top: rem(18); bottom: rem(18); }
      //&::after  { left: rem(0); top: rem(22); }
    }
  }

  @include mobile {
    --rail-offset: #{rem(40)};
    padding-left: 0;
    gap: rem(16);

    &::before { left: rem(4); }

    .about-card {
      --card-pad-x: #{rem(16)};
      --card-pad-y: #{rem(14)};
      border-radius: rem(14);

      &::before { left: rem(-8); top: rem(14); bottom: rem(14); }
      //&::after  { left: rem(3); top: rem(18); width: rem(10); height: rem(10); }
    }
  }
}
