@use '../helpers' as *;

/* =========================
   SERVICE — сервисный центр (две колонки)
   ========================= */

#service-center-title { line-height: 1.14; letter-spacing: -0.01em; }

.service__body { margin-top: clamp(1.25rem, 3vw, 2rem); }

.service__grid {
  display: grid;
  grid-template-columns: minmax(0, 1.04fr) minmax(0, .96fr);
  gap: clamp(16px, 3vw, 24px);
  align-items: stretch;
  @include tablet { grid-template-columns: 1fr; }
  @include tablet-above { --row-min: #{rem(420)}; }
  @include fluid-text(20,18);
}

/* карточки обеих колонок */
.service__content,
.service__media {
  height: 100%;
  min-height: var(--row-min, auto);
  border-radius: rem(16);
  border: rem(1) solid var(--color-dark-15, rgba(0,0,0,.15));
  @include mobile { border-radius: rem(14); min-height: auto; }
}

/* текстовая колонка */
.service__content {
  padding: clamp(16px, 2.4vw, 24px) clamp(16px, 2.6vw, 28px);
}

.service__text {
  @include fluid-text(20, 16);
  color: var(--color-dark-900, #222);

  p { margin: 0; }
  p + p { margin-top: rem(12); }
}

/* медиа-колонка */
.service__media {
  --pad: #{rem(10)};
  position: relative;
  padding: var(--pad);

  /* центрируем картинку и даём ей занять доступное место */
  display: grid;
  place-items: center;

  @include mobile { --pad: #{rem(8)}; }
}

.service__img {
  display: block;

  /* показываем целиком */
  width: 100%;
  height: auto;          /* ключевой момент — не растягиваем по высоте */
  max-height: 100%;
  object-fit: contain;

  /* скругление внутри пэддингов карточки */
  border-radius: calc(rem(16) - var(--pad));

  @include mobile {
    aspect-ratio: auto;  /* реальная пропорция на мобиле */
    border-radius: calc(rem(14) - var(--pad));
  }
}

/* затемнение не нужно при object-fit: contain */
.service__media::after {
  content: none;
}

.service__features {
  margin-top: clamp(20px, 4vw, 36px);
  display: grid;
  gap: clamp(14px, 2.2vw, 22px);
}

.service-feature {
  background: var(--color-white);
  border: rem(1) solid var(--color-dark-15, rgba(0,0,0,.15));
  border-radius: rem(14);
  box-shadow: 0 rem(16) rem(40) rgba(0,0,0,.05);
  padding: clamp(14px, 2.2vw, 22px) clamp(16px, 2.6vw, 28px);
  @include fluid-text(20,18);
}

.service-feature__title {
  display: flex;
  align-items: center;
  gap: rem(10);
  margin: 0 0 rem(8);
  @include fluid-text(24, 18);
  font-weight: 700;
  color: var(--color-dark-900, #222);
  line-height: 1.25;
}

.service-feature__num {
  flex: 0 0 auto;
  display: inline-grid;
  place-items: center;
  width: rem(28);
  height: rem(28);
  border-radius: 999px;
  background: color-mix(in srgb, var(--color-accent), #fff 80%);
  color: var(--color-accent);
  font-weight: 700;
  font-size: rem(14);
}

.service-feature__text {
}

/* вложенные списки с мягкими буллетами */
.service-feature__bullets {
  margin: rem(10) 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: rem(8);

  li {
    position: relative;
    padding-left: rem(22);
  }
  li::before {
    content: '';
    position: absolute;
    left: 0; top: 0.8em;
    width: rem(6); height: rem(6);
    border-radius: 50%;
    background: var(--color-accent);
    box-shadow: 0 0 0 rem(3) color-mix(in srgb, var(--color-accent), #fff 85%);
    transform: translateY(-50%);
  }
}

.service__trust {
  margin-top: clamp(10px, 4vw, 10px);
}

.service__trust-inner {
  position: relative;
  padding: clamp(16px, 2.6vw, 24px) clamp(16px, 2.8vw, 28px);
  text-align: center;
  background: var(--color-white);
  border: rem(1) solid var(--color-dark-15, rgba(0,0,0,.15));
  border-radius: rem(14);
  box-shadow: 0 rem(16) rem(40) rgba(0,0,0,.05);
  overflow: clip;
  @include fluid-text(20,18);

  /* тонкие декоративные линии по краям во всю ширину контейнера */
  &::before,
  &::after {
    content: '';
    position: absolute;
    left: 50%;
    width: min(100%, #{rem(960)});
    height: rem(1);
    background-color: var(--color-dark-15, rgba(0,0,0,.15));
    transform: translateX(-50%);
  }
  &::before { top: 0; }
  &::after  { bottom: 0; }
}

.service__trust-title {
  margin: 0;
  @include fluid-text(18, 16);
  font-weight: 700;
  letter-spacing: .015em;
  color: var(--color-dark-900, #222);
}

/* опционально: сетка логотипов, если добавишь */
.service__trust-logos {
  margin: clamp(10px, 2vw, 16px) 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 1fr;
  gap: clamp(12px, 2vw, 20px);
  align-items: center;
  justify-items: center;

  @include tablet { grid-auto-flow: row; grid-template-columns: repeat(3, 1fr); }
  @include mobile { grid-template-columns: repeat(2, 1fr); }

  li {
    filter: grayscale(1) opacity(.85);
    transition: filter var(--transition-duration, .2s) ease;
  }
  li:hover { filter: none; }

  img {
    max-width: 100%;
    max-height: rem(36);
    display: block;
  }
}
